$(document).ready(function($){var e,t,i,n,s,o;e={slide_speed:900},t={win:$(window),body:$("body"),hero:$(".hero"),nav:$(".nav"),mobilenav:$(".mobilenav"),nav_links:$(".nav a, .mobilenav a"),carousel:$(".page-carousel"),track:$(".page-carousel .track"),slides:$(".page-carousel .slide"),imgrows_to_fit:$(".imgrow.fit")},i={win_height:t.win.height(),win_width:t.win.width(),current_slide:0,current_slide_num:t.slides.eq(0),mobilenav_visible:!1},n={can_touch:"ontouchstart"in window||"onmsgesturechange"in window?!0:!1,transform3d:function(){if(!window.getComputedStyle)return!1;var e=document.createElement("p"),t,i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(e,null);for(var n in i)void 0!==e.style[n]&&(e.style[n]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(i[n]));return document.body.removeChild(e),void 0!==t&&t.length>0&&"none"!==t}()},s={init:function(){n.can_touch&&t.body.addClass("feature-touch"),s.size_carousel(),s.goto_slide(0),t.nav_links.on("click",o.nav_link_click),t.win.on("resize",o.resize),imagesLoaded(".imgrow",function(){s.fit_imgrows(),s.set_carousel_height()})},fit_imgrows:function(e){t.imgrows_to_fit.each(function(){function e(){t.css("height",i.height()-5),i.offset().top!=n.offset().top&&e()}var t=$(this).find("img"),i=t.eq(0),n=t.eq(1);t.css("height",""),i.offset().top!=n.offset().top&&e(),s.set_carousel_height()})},size_carousel:function(){t.slides.css({width:i.win_width+"px","min-height":i.win_height+"px"})},goto_slide:function(o){var a=t.slides.eq(o),r=-1*o*i.win_width;i.current_slide_num=o,i.current_slide=a,t.body.addClass("transitioning"),t.slides.removeClass("current"),a.addClass("current"),setTimeout(function(){t.body.removeClass("transitioning")},e.slide_speed),a.data("invert")?t.body.addClass("invert"):t.body.removeClass("invert"),t.body.removeClass(function(e,t){return(t.match(/\bbg-\S+/g)||[]).join(" ")}),a.data("bg")&&t.body.addClass("bg-"+a.data("bg")),n.transform3d?t.track.css({"-webkit-transform":"translate("+r+"px, 0)","-moz-transform":"translate("+r+"px, 0)","-ms-transform":"translate("+r+"px, 0)","-o-transform":"translate("+r+"px, 0)",transform:"translate("+r+"px, 0)"}):t.track.css("left",r),s.set_carousel_height()},set_carousel_height:function(){t.carousel.css("height",""),t.carousel.css("height",i.current_slide.height())},mobilenav_toggle:function(){i.mobilenav_visible?(t.mobilenav.fadeOut(500),i.mobilenav_visible=!1):(t.mobilenav.fadeIn(500),i.mobilenav_visible=!0)}},o={resize:function(){i.win_height=t.win.height(),i.win_width=t.win.width(),s.fit_imgrows(),s.size_carousel(),s.goto_slide(i.current_slide_num)},nav_link_click:function(){var e=$(this);e.hasClass("mobilenav-toggle")?s.mobilenav_toggle():(t.nav_links.removeClass("current"),e.addClass("current"),t.nav_links.filter('[data-num="'+e.data("num")+'"]').addClass("current"),s.goto_slide(e.data("num")),i.mobilenav_visible&&s.mobilenav_toggle())}},s.init()});